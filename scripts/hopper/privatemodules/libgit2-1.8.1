#%Module 1.0
#
# Sets up variables for my local install of libgit, for use with the
# 'environment-modules' package.
#
proc ModulesHelp { } {
    puts stderr "\tAdds local install of libgit to your environment variables,"
}

module-whatis "adds local install of libgit to your environment variables"

# You can specify additional modules (if any) to be loaded before loading your
# custom module like shown below.
# Note: for python we don't need any additional module to be loaded beforehand.
#if ![is-loaded <some-required-module-name>] {
#       module load <some-required-module-name>
#}

# Add in required module(s) needed as prerequisite.
# We don't need any prerequisite module, this is just an example
#prereq <module_name>

# get the $HOME path from shell variables for this user
# https://wiki.tcl-lang.org/page/env
set HOME $::env(HOME)
set LOCALPATH $HOME/.local

# set package path

# Add the path to the autoconf binaries
prepend-path PATH $LOCALPATH/packages/libgit2-1.8.1/bin/

## Add the path to the autoconf libraries
prepend-path LD_LIBRARY_PATH $LOCALPATH/packages/libgit2-1.8.1/lib64
prepend-path LD_LIBRARY_PATH $LOCALPATH/packages/include
#setenv LDFLAGS -L$LOCALPATH/libffi-3.4.6/lib
#setenv CFLAGS -I$LOCALPATH/libffi-3.4.6/include
prepend-path PKG_CONFIG_PATH $LOCALPATH/packages/libgit2-1.8.1/pkgconfig

